---
title: "Task 3 - Santa Barbara urchins (McManus)"
author: "Nick McManus"
date: "10/22/2021"
output: html_document
---
## Overview

INFO HERE

**Data citation:** Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b. 


## Setup

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE, messages = FALSE, warning = FALSE)
# attach packages
library(tidyverse)
library(here)
library(janitor)
library(lubridate)
library(kableExtra)
```

First I will read in the data from `urchins.csv`
```{r}
#read in data
urchins <- read_csv(here("data","urchins.csv"))
```

Next I will clean up the column headings to make the data easier to work with.

```{r}
#convert column names to lowersnake case
urchins_clean <- clean_names(urchins) %>% 
  #add units to size column for clarity
  rename(size_cm = size) 
  
```

## Section 1 - Size Comparison 
 
In this section I will compare the distribution of sizes between purple and red urchins.

```{r}
# assign data to the plot
ggplot(data = urchins_clean) +
  # create histogram and set aesthetics
  geom_histogram(
    aes(x = size_cm, fill = common_name),
    bins = 12) +
  
  #change labels
  labs(x = "size (cm)",
       y = "count") +
  
  facet_wrap(~ common_name) +
  
  #set theme
  theme(
    axis.title.x = element_text(size = 13)
  ) +
  
  theme_minimal()

```

```{r}
# calculate summary table with stats of interest
stats_urchins <- urchins_clean %>% 
  group_by(common_name) %>% 
  summarize(mean_size_cm = mean(size_cm),
            median_size_cm = median(size_cm),
            sd_size = sd(size_cm),
            sample_size = n()) 

stats_urchins %>% 
  kable(col.names = c("Species",
                      "Mean size (cm)",
                      "Median size (cm)",
                      "Standard deviation (cm)",
                      "Sample size")) %>% 
  kable_styling(full_width = FALSE,
                bootstrap_options = "hover",
                position = "left")
```

